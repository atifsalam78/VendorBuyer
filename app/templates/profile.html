{% extends "base.html" %} {% block title %}Profile - BazaarHub{% endblock %} {%
block content %}
    <style>
        :root {
            --dark-blue: #111439;
            --light-gradient: linear-gradient(135deg, #111439 0%, #2D3192 100%);
            --bg-lilac: #F8F8F9;
            --text-dark: #1A1A1A;
            --text-light: #666;
            --accent: #4A6CF7;
            --accent-light: #6B8AFF;
            --card-bg: #FFFFFF;
            --border-radius: 16px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-lilac);
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: var(--light-gradient);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
        }

        .logo-icon {
            background: white;
            color: var(--dark-blue);
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        nav a:hover {
            opacity: 0.8;
        }

        /* Profile Header Section */
        .profile-header {
            margin-top: 30px;
            position: relative;
        }

        .cover-banner {
            height: 250px;
            background: var(--light-gradient);
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .cover-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            display: flex;
            align-items: flex-end;
            margin-top: -20px;
            padding: 0 30px 30px;
            position: relative;
            color: rgb(2, 1, 97);
        }

        .company-logo {
            width: 150px;
            height: 150px;
            border-radius: 20px;
            background: white;
            padding: 10px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 25px;
        }

        .company-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 12px;
        }

        .company-details {
            flex: 1;
        }

        .company-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .company-tagline {
            font-size: 18px;
            /* color: var(--text-light); */
            color: rgb(2, 1, 97);
            margin-bottom: 15px;
            position: relative;
        }
        
        .edit-icon {
            cursor: pointer;
            margin-left: 10px;
            font-size: 14px;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        
        .edit-icon:hover {
            opacity: 1;
        }
        
        .edit-form {
            display: none;
            margin-top: 10px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            z-index: 100;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
        
        .edit-input {
            width: 100%;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .edit-input:focus {
            border-color: var(--accent);
            box-shadow: 0 2px 10px rgba(74, 108, 247, 0.15);
            outline: none;
        }
        
        .file-input-wrapper {
            position: relative;
            width: 100%;
            height: 80px;
            margin-bottom: 15px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background: #f9f9f9;
            cursor: pointer;
            overflow: hidden;
        }
        
        .file-input-wrapper:hover {
            border-color: var(--accent);
            background: #f0f5ff;
        }
        
        .file-input-wrapper.highlight {
            border-color: var(--accent);
            background: #e6edff;
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(74, 108, 247, 0.2);
        }
        
        .file-input-wrapper.has-file {
            border-style: solid;
            border-color: var(--accent);
            background: #f0f5ff;
        }
        
        .file-input-wrapper i {
            font-size: 24px;
            color: #aaa;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        
        .file-input-wrapper:hover i {
            color: var(--accent);
            transform: scale(1.1);
        }
        
        .file-input-wrapper span {
            font-size: 14px;
            color: #777;
            transition: all 0.3s ease;
        }
        
        .file-input-wrapper:hover span {
            color: var(--accent);
        }
        
        .file-input-wrapper input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .edit-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
            padding: 5px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .btn-save {
            background: linear-gradient(145deg, #4A6CF7, #3f5bd3);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(74, 108, 247, 0.3);
            flex: 0;
            min-width: 80px;
            max-width: 100px;
            font-size: 14px;
            text-align: center;
            display: inline-block;
        }
        
        .btn-save:hover {
            background: linear-gradient(145deg, #3f5bd3, #4A6CF7);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(74, 108, 247, 0.4);
        }
        
        .btn-cancel {
            background: #f5f5f5;
            color: #555;
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 0;
            min-width: 80px;
            max-width: 100px;
            font-size: 14px;
            text-align: center;
            display: inline-block;
        }
        
        .btn-cancel:hover {
            background: #e5e5e5;
            transform: translateY(-2px);
        }
        
        /* Loading spinner */
        .spinner {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            margin-left: 8px;
        }
        
        .spinner > div {
            width: 8px;
            height: 8px;
            background-color: white;
            border-radius: 100%;
            display: inline-block;
            margin: 0 2px;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        
        .spinner .bounce1 {
            animation-delay: -0.32s;
        }
        
        .spinner .bounce2 {
            animation-delay: -0.16s;
        }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
        
        /* Image upload button styles */
        .banner-upload-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: linear-gradient(145deg, rgba(74, 108, 247, 0.8), rgba(63, 91, 211, 0.8));
            color: white;
            padding: 10px 16px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
        }
        
        .banner-upload-btn:hover {
            background: linear-gradient(145deg, rgba(63, 91, 211, 0.9), rgba(74, 108, 247, 0.9));
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
        }
        
        .banner-upload-btn i {
            font-size: 16px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .profile-upload-btn {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: linear-gradient(145deg, #4A6CF7, #3f5bd3);
            color: white;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 10px rgba(74, 108, 247, 0.3);
            border: 2px solid white;
        }
        
        .profile-upload-btn:hover {
            background: linear-gradient(145deg, #3f5bd3, #4A6CF7);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 15px rgba(74, 108, 247, 0.4);
        }
        
        .cover-banner {
            position: relative;
            height: 250px;
            background-color: #f0f2f5;
            overflow: hidden;
        }
        
        .cover-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .company-logo {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
            border: 5px solid white;
            box-shadow: 0 10px 25px rgba(74, 108, 247, 0.2);
            margin-bottom: 20px;
            z-index: 5;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .company-logo:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(74, 108, 247, 0.25);
        }
        
        .profile-pic-container {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
        }
        
        .image-adjustment-controls {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            width: 250px;
            margin-top: 15px;
            z-index: 100;
            display: none;
        }
        
        .image-adjustment-controls::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid white;
        }
        
        .adjustment-control {
            margin-bottom: 10px;
        }
        
        .adjustment-control label {
            display: block;
            margin-bottom: 5px;
            font-size: 12px;
            font-weight: 500;
            color: #555;
        }
        
        .adjustment-control input[type="range"] {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            background: #f0f0f0;
            border-radius: 3px;
            outline: none;
        }
        
        .adjustment-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4A6CF7;
            cursor: pointer;
        }
        
        .btn-reset {
            background: #f0f0f0;
            color: #555;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 10px auto 0;
        }
        
        .btn-reset:hover {
            background: #e0e0e0;
        }
        
        .profile-image-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            border-radius: 50%;
        }
        
        .profile-image-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(74, 108, 247, 0.2), transparent);
            z-index: 2;
            pointer-events: none;
        }
        
        .company-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
            background-color: #f8f8f9;
            transition: transform 0.5s ease;
            filter: brightness(1.05);
            object-position: center;
        }
        
        .company-logo:hover img {
            transform: scale(1.05);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        /* Stats and Actions */
        .stats-actions {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }

        .stats {
            display: flex;
            gap: 25px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark-blue);
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-light);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-light);
        }

        .btn-outline {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .btn-outline:hover {
            background: var(--accent);
            color: white;
        }

        /* Main Content Grid */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            margin: 40px 0;
        }

        /* Business Info Section */
        .business-info {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }
        
        /* User Info Section */
        .user-info {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--dark-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--accent);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .info-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .info-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-lilac);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            flex-shrink: 0;
        }

        .info-content h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .info-content p {
            color: var(--text-light);
            font-size: 14px;
        }

        .company-description {
            margin-top: 25px;
            line-height: 1.8;
            color: var(--text-light);
        }

        /* Posts Feed */
        .posts-feed {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .post {
            padding: 20px 0;
            border-bottom: 1px solid #eee;
        }

        .post:last-child {
            border-bottom: none;
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            background: var(--light-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
        }

        .post-meta h4 {
            font-size: 16px;
            margin-bottom: 3px;
        }

        .post-meta span {
            font-size: 13px;
            color: var(--text-light);
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .post-image {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 15px;
        }

        .post-actions {
            display: flex;
            gap: 20px;
        }

        .post-action {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--text-light);
            font-size: 14px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .post-action:hover {
            color: var(--accent);
        }

        /* Products Showcase */
        .products-showcase {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .product-card {
            background: var(--bg-lilac);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            height: 160px;
            background: var(--light-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 40px;
        }

        .product-details {
            padding: 15px;
        }

        .product-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .product-desc {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-cta {
            display: block;
            text-align: center;
            background: var(--accent);
            color: white;
            padding: 8px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: background 0.3s;
        }

        .product-cta:hover {
            background: var(--accent-light);
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .contact-info {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .contact-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .contact-method {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-lilac);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }

        .contact-details h4 {
            font-size: 14px;
            margin-bottom: 3px;
        }

        .contact-details p {
            font-size: 14px;
            color: var(--text-light);
        }

        .social-links {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .social-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--bg-lilac);
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-dark);
            transition: all 0.3s;
        }

        .social-link:hover {
            background: var(--accent);
            color: white;
        }

        .social-icon {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 8px;
            color: var(--accent);
        }

        .social-name {
            font-size: 14px;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-info {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .company-logo {
                margin-bottom: 20px;
            }
            
            .stats-actions {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        @media (max-width: 768px) {
            nav ul {
                gap: 15px;
            }
            
            .cover-banner {
                height: 200px;
            }
            
            .social-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                justify-content: center;
            }
            
            .action-buttons {
                flex-wrap: wrap;
            }
            
            .cover-banner {
                height: 150px;
            }
            
            .company-logo {
                width: 120px;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- Header
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <span>BazaarHub</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="#"><i class="fas fa-users"></i> Network</a></li>
                        <li><a href="#"><i class="fas fa-briefcase"></i> Jobs</a></li>
                        <li><a href="#"><i class="fas fa-comment"></i> Messages</a></li>
                        <li><a href="#"><i class="fas fa-bell"></i> Notifications</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header> -->
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Banner image upload
            const bannerUploadBtn = document.querySelector('.banner-upload-btn');
            const bannerForm = document.getElementById('banner-form');
            const cancelBannerBtn = document.getElementById('cancel-banner-btn');
            const bannerFileInput = document.getElementById('banner-file-input');
            const selectedFileName = document.getElementById('selected-file-name');
            const fileInputWrapper = document.querySelector('.file-input-wrapper');
            
            if (bannerUploadBtn && bannerForm && cancelBannerBtn && bannerFileInput) {
                // Show form with animation
                bannerUploadBtn.addEventListener('click', function() {
                    bannerForm.style.display = 'block';
                    setTimeout(() => {
                        bannerForm.style.opacity = '1';
                    }, 10);
                });
                
                // Make the file input wrapper clickable to trigger file selection
                fileInputWrapper.addEventListener('click', function(e) {
                    // Prevent the click from propagating to the input itself
                    // which would trigger two file dialogs
                    if (e.target !== bannerFileInput) {
                        e.preventDefault();
                        bannerFileInput.click();
                    }
                });
                
                // Hide form with animation
                cancelBannerBtn.addEventListener('click', function() {
                    bannerForm.style.opacity = '0';
                    setTimeout(() => {
                        bannerForm.style.display = 'none';
                        // Reset the form
                        if (bannerFileInput) {
                            bannerFileInput.value = '';
                            if (selectedFileName) selectedFileName.textContent = '';
                            if (fileInputWrapper) {
                                fileInputWrapper.classList.remove('has-file');
                                const previewImg = fileInputWrapper.querySelector('.file-preview');
                                if (previewImg) previewImg.remove();
                            }
                        }
                    }, 300);
                });
            }
            
            // File input handling
            if (bannerFileInput && selectedFileName && fileInputWrapper) {
                // File selection change
                bannerFileInput.addEventListener('change', function() {
                    if (this.files && this.files[0]) {
                        const file = this.files[0];
                        selectedFileName.textContent = file.name;
                        fileInputWrapper.classList.add('has-file');
                        
                        // Remove existing preview if any
                        const existingPreview = fileInputWrapper.querySelector('.file-preview');
                        if (existingPreview) existingPreview.remove();
                        
                        // Create image preview
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.className = 'file-preview';
                            img.style.cssText = 'position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 8px; z-index: -1; opacity: 0.2;';
                            fileInputWrapper.appendChild(img);
                        }
                        reader.readAsDataURL(file);
                    }
                });
                
                // Form submission handling
                const bannerForm = document.querySelector('#banner-form form');
                const uploadButton = document.getElementById('banner-upload-submit');
                
                if (bannerForm && uploadButton) {
                    bannerForm.addEventListener('submit', function(e) {
                        // Check if a file is selected
                        if (!bannerFileInput.files || !bannerFileInput.files[0]) {
                            e.preventDefault();
                            alert('Please select an image file first.');
                            return false;
                        }
                        
                        // Show loading spinner
                        const buttonText = uploadButton.querySelector('span');
                        const spinner = uploadButton.querySelector('.spinner');
                        
                        if (buttonText && spinner) {
                            buttonText.style.display = 'none';
                            spinner.style.display = 'inline-flex';
                        }
                        
                        // Disable the button to prevent multiple submissions
                        uploadButton.disabled = true;
                        
                        // Continue with form submission
                        return true;
                    });
                }
                
                // Drag and drop functionality
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    fileInputWrapper.addEventListener(eventName, preventDefaults, false);
                });
                
                function preventDefaults(e) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                
                ['dragenter', 'dragover'].forEach(eventName => {
                    fileInputWrapper.addEventListener(eventName, highlight, false);
                });
                
                ['dragleave', 'drop'].forEach(eventName => {
                    fileInputWrapper.addEventListener(eventName, unhighlight, false);
                });
                
                function highlight() {
                    fileInputWrapper.classList.add('highlight');
                }
                
                function unhighlight() {
                    fileInputWrapper.classList.remove('highlight');
                }
                
                fileInputWrapper.addEventListener('drop', handleDrop, false);
                
                function handleDrop(e) {
                    const dt = e.dataTransfer;
                    const files = dt.files;
                    bannerFileInput.files = files;
                    
                    // Trigger change event
                    const event = new Event('change');
                    bannerFileInput.dispatchEvent(event);
                    
                    // Show the form if it's not already visible
                    if (bannerForm.style.display === 'none') {
                        bannerForm.style.display = 'block';
                        setTimeout(() => {
                            bannerForm.style.opacity = '1';
                        }, 10);
                    }
                }
            }
            
            // Profile image upload
            const profileUploadBtn = document.querySelector('.profile-upload-btn');
            const profileForm = document.getElementById('profile-form');
            const cancelProfileBtn = document.getElementById('cancel-profile-btn');
            
            if (profileUploadBtn && profileForm && cancelProfileBtn) {
                profileUploadBtn.addEventListener('click', function() {
                    profileForm.style.display = 'block';
                });
                
                cancelProfileBtn.addEventListener('click', function() {
                    profileForm.style.display = 'none';
                });
            }
            
            // Image adjustment functionality
            const profileImage = document.getElementById('profile-image');
            const adjustmentControls = document.querySelector('.image-adjustment-controls');
            const zoomControl = document.getElementById('zoom-control');
            const positionXControl = document.getElementById('position-x-control');
            const positionYControl = document.getElementById('position-y-control');
            const resetButton = document.getElementById('reset-adjustment');
            
            if (profileImage && adjustmentControls && zoomControl && positionXControl && positionYControl && resetButton) {
                // Initialize with better fitting for the current image
                profileImage.style.objectFit = 'contain';
                profileImage.style.objectPosition = 'center';
                
                // Add a double-click event to the profile image to show adjustment controls
                profileImage.addEventListener('dblclick', function(e) {
                    e.stopPropagation(); // Prevent event bubbling
                    adjustmentControls.style.display = adjustmentControls.style.display === 'block' ? 'none' : 'block';
                });
                
                // Close adjustment controls when clicking outside
                document.addEventListener('click', function(e) {
                    if (adjustmentControls.style.display === 'block' && 
                        !adjustmentControls.contains(e.target) && 
                        e.target !== profileImage) {
                        adjustmentControls.style.display = 'none';
                    }
                });
                
                // Apply zoom and position adjustments
                function applyAdjustments() {
                    const zoom = zoomControl.value;
                    const posX = positionXControl.value;
                    const posY = positionYControl.value;
                    
                    // Apply transform for zoom and position
                    profileImage.style.transform = `scale(${zoom}) translate(${posX}px, ${posY}px)`;
                    
                    // Adjust object-fit based on zoom level
                    if (zoom > 1.2) {
                        profileImage.style.objectFit = 'cover';
                    } else {
                        profileImage.style.objectFit = 'contain';
                    }
                }
                
                // Add event listeners to controls
                zoomControl.addEventListener('input', applyAdjustments);
                positionXControl.addEventListener('input', applyAdjustments);
                positionYControl.addEventListener('input', applyAdjustments);
                
                // Reset adjustments
                resetButton.addEventListener('click', function() {
                    zoomControl.value = 1;
                    positionXControl.value = 0;
                    positionYControl.value = 0;
                    profileImage.style.transform = 'scale(1) translate(0px, 0px)';
                    profileImage.style.objectFit = 'contain';
                    profileImage.style.objectPosition = 'center';
                });
            }
            
            // Tagline edit functionality
            const editTaglineBtn = document.getElementById('edit-tagline-btn');
            const taglineForm = document.getElementById('tagline-form');
            const cancelTaglineBtn = document.getElementById('cancel-tagline-btn');
            const taglineText = document.getElementById('tagline-text');
            
            if (editTaglineBtn && taglineForm && cancelTaglineBtn && taglineText) {
                editTaglineBtn.addEventListener('click', function() {
                    taglineForm.style.display = 'block';
                    taglineText.style.display = 'none';
                    editTaglineBtn.style.display = 'none';
                });
                
                cancelTaglineBtn.addEventListener('click', function() {
                    taglineForm.style.display = 'none';
                    taglineText.style.display = 'inline';
                    editTaglineBtn.style.display = 'inline';
                });
            }
        });
    </script>

    <!-- Main Content -->
    <div class="container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div class="cover-banner">
                {% if user['profile_image'] and user['profile_image']['banner_pic'] %}
                    <img src="{{ user['profile_image']['banner_pic'] }}" alt="Company Banner">
                {% endif %}
                <div class="banner-upload-btn">
                    <i class="fas fa-camera"></i>
                    <span>Update Banner</span>
                </div>
                <div class="edit-form" id="banner-form" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #333;">Update Banner Image</h3>
                    <form action="/upload-images" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="email" value="{{ user['email'] }}">
                        <input type="hidden" name="image_type" value="banner">
                        <div class="file-input-wrapper">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Drag & drop your image here or click to browse</span>
                            <span id="selected-file-name" style="margin-top: 5px; font-size: 12px; color: var(--accent);"></span>
                            <input type="file" name="file" id="banner-file-input" accept="image/*" required>
                        </div>
                        <div class="edit-buttons">
                            <button type="submit" class="btn-save" id="banner-upload-submit">
                                <span>Upload</span>
                                <div class="spinner" style="display: none;">
                                    <div class="bounce1"></div>
                                    <div class="bounce2"></div>
                                    <div class="bounce3"></div>
                                </div>
                            </button>
                            <button type="button" class="btn-cancel" id="cancel-banner-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="profile-info">
                <div class="company-logo">
                    <div class="profile-pic-container">
                        {% if user['profile_image'] and user['profile_image']['profile_pic'] %}
                            <div class="profile-image-wrapper">
                                <img id="profile-image" src="{{ user['profile_image']['profile_pic'] }}" alt="Profile Picture">
                            </div>
                            <div class="image-adjustment-controls">
                                <div class="adjustment-control">
                                    <label for="zoom-control">Zoom</label>
                                    <input type="range" id="zoom-control" min="1" max="2" step="0.1" value="1">
                                </div>
                                <div class="adjustment-control">
                                    <label for="position-x-control">Position X</label>
                                    <input type="range" id="position-x-control" min="-50" max="50" step="1" value="0">
                                </div>
                                <div class="adjustment-control">
                                    <label for="position-y-control">Position Y</label>
                                    <input type="range" id="position-y-control" min="-50" max="50" step="1" value="0">
                                </div>
                                <button id="reset-adjustment" class="btn-reset">Reset</button>
                            </div>
                        {% else %}
                            <i class="fas fa-building" style="font-size: 60px; color: #4A6CF7;"></i>
                        {% endif %}
                    </div>
                    <div class="profile-upload-btn">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="edit-form" id="profile-form" style="display: none;">
                        <form action="/upload-images" method="post" enctype="multipart/form-data">
                            <input type="hidden" name="email" value="{{ user['email'] }}">
                            <input type="hidden" name="image_type" value="profile">
                            <input type="file" name="file" accept="image/*" required>
                            <div class="edit-buttons">
                                <button type="submit" class="btn-save">Upload</button>
                                <button type="button" class="btn-cancel" id="cancel-profile-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="company-details">
                    <h1 class="company-name">{{ user['profile']['company_name'] }}</h1>
                    <p class="company-tagline">
                        <span id="tagline-text">{{ user['profile']['tagline'] }}</span>
                        <i class="fas fa-edit edit-icon" id="edit-tagline-btn"></i>
                        
                        <div class="edit-form" id="tagline-form">
                            <form action="/update-profile" method="post">
                                <input type="hidden" name="email" value="{{ user['email'] }}">
                                 <input type="text" class="edit-input" name="tagline" value="{{ user['profile']['tagline'] }}" placeholder="Enter your tagline">
                                <div class="edit-buttons">
                                    <button type="submit" class="btn-save">Save</button>
                                    <button type="button" class="btn-cancel" id="cancel-tagline-btn">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </p>
                    <div class="stats-actions">
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-value">{{ user['profile']['connections_count'] }}</div>
                                 <div class="stat-label">Connections</div>
                             </div>
                             <div class="stat-item">
                                 <div class="stat-value">{{ user['profile']['followers_count'] }}</div>
                                 <div class="stat-label">Followers</div>
                             </div>
                             <div class="stat-item">
                                 <div class="stat-value">{{ user['profile']['following_count'] }}</div>
                                 <div class="stat-label">Following</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-primary"><i class="fas fa-plus"></i> Connect</button>
                            <button class="btn btn-outline"><i class="fas fa-envelope"></i> Message</button>
                            <button class="btn btn-outline"><i class="fas fa-bell"></i> Follow</button>
                        </div>
                </div>
            </div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="main-content">
            <!-- Left Column -->
            <div class="left-column">
                <!-- User Information Section -->
                <div class="user-info">
                    <h2 class="section-title"><i class="fas fa-user-circle"></i> User Information</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="info-content">
                                <h4>Email</h4>
                                <p>{{ user['email'] }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="info-content">
                                <h4>Mobile</h4>
                                <p>{{ user.mobile_code }} {{ user.mobile }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-venus-mars"></i>
                            </div>
                            <div class="info-content">
                                <h4>Gender</h4>
                                <p>{{ user.gender }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-id-badge"></i>
                            </div>
                            <div class="info-content">
                                <h4>Account Type</h4>
                                <p>{% if user.is_vendor %}Vendor{% else %}Buyer{% endif %}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Business Info Section -->
                <div class="business-info">
                    <h2 class="section-title"><i class="fas fa-info-circle"></i> Business Information</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="info-content">
                                <h4>Company Name</h4>
                                <p>{{ user['profile']['company_name'] }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="info-content">
                                <h4>Location</h4>
                                <p>{{ user['profile']['city'] }}, {{ user['profile']['state'] }}, {{ user['profile']['country'] }}</p>
                            </div>
                        </div>
                        {% if user.is_vendor %}
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-industry"></i>
                            </div>
                            <div class="info-content">
                                <h4>Business Category</h4>
                                <p>{{ user['profile']['business_category'] }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div class="info-content">
                                <h4>Business Type</h4>
                                <p>{{ user.profile.business_type }}</p>
                            </div>
                        </div>
                        <!-- <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="info-content">
                                <h4>Phone</h4>
                                <p>{{ user.profile.landline_code }} {{ user.profile.landline }}</p>
                            </div>
                        </div> -->
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-file-invoice"></i>
                            </div>
                            <div class="info-content">
                                <h4>NTN</h4>
                                <p>{{ user.profile.ntn }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="info-content">
                                <h4>Establishment Year</h4>
                                <p>{{ user.profile.establishment_year }}</p>
                            </div>
                        </div>
                        {% else %}
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="info-content">
                                <h4>Name</h4>
                                <p>{{ user.profile.name }}</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <div class="info-content">
                                <h4>Designation</h4>
                                <p>{{ user.profile.designation }}</p>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Posts Feed -->
                <div class="posts-feed">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2 class="section-title"><i class="fas fa-newspaper"></i> Recent Updates</h2>
                        <button class="btn btn-primary create-post-btn" data-bs-toggle="modal" data-bs-target="#createPostModal">
                            <i class="fas fa-plus-circle"></i> Create New Post
                        </button>
                    </div>
                    <div class="post">
                        <div class="post-header">
                            <div class="post-avatar">TS</div>
                            <div class="post-meta">
                                <h4>TechSolutions Inc.</h4>
                                <span>Posted 2 days ago</span>
                            </div>
                        </div>
                        <div class="post-content">
                            <p>We're excited to announce the launch of our new cybersecurity suite, designed to protect businesses from emerging threats in the digital landscape. This comprehensive solution includes advanced threat detection, real-time monitoring, and rapid response capabilities.</p>
                        </div>
                        <div class="post-actions">
                            <div class="post-action">
                                <i class="far fa-thumbs-up"></i> <span>248</span>
                            </div>
                            <div class="post-action">
                                <i class="far fa-comment"></i> <span>42</span>
                            </div>
                            <div class="post-action">
                                <i class="far fa-share-square"></i> <span>18</span>
                            </div>
                        </div>
                    </div>
                    <div class="post">
                        <div class="post-header">
                            <div class="post-avatar">TS</div>
                            <div class="post-meta">
                                <h4>TechSolutions Inc.</h4>
                                <span>Posted 1 week ago</span>
                            </div>
                        </div>
                        <div class="post-content">
                            <p>We're proud to share that TechSolutions Inc. has been recognized as one of the "Top 100 Technology Companies to Watch" by Technology Today magazine. This acknowledgment reflects our commitment to innovation and excellence.</p>
                        </div>
                        <div class="post-image" style="height: 200px; background: linear-gradient(135deg, #4A6CF7 0%, #8AABFF 100%); display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-trophy" style="font-size: 48px;"></i>
                        </div>
                        <div class="post-actions">
                            <div class="post-action">
                                <i class="far fa-thumbs-up"></i> <span>512</span>
                            </div>
                            <div class="post-action">
                                <i class="far fa-comment"></i> <span>87</span>
                            </div>
                            <div class="post-action">
                                <i class="far fa-share-square"></i> <span>34</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products Showcase -->
                <div class="products-showcase">
                    <h2 class="section-title"><i class="fas fa-box-open"></i> Products & Services</h2>
                    <div class="products-grid">
                        <div class="product-card">
                            <div class="product-image">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <div class="product-details">
                                <h3 class="product-title">Cloud Solutions</h3>
                                <p class="product-desc">Secure and scalable cloud infrastructure for businesses of all sizes.</p>
                                <a href="#" class="product-cta">Learn More</a>
                            </div>
                        </div>
                        <div class="product-card">
                            <div class="product-image">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="product-details">
                                <h3 class="product-title">Cybersecurity</h3>
                                <p class="product-desc">Comprehensive protection against cyber threats and data breaches.</p>
                                <a href="#" class="product-cta">Learn More</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column (Sidebar) -->
            <div class="sidebar">
                <!-- Contact Info -->
                <div class="contact-info">
                    <h2 class="section-title"><i class="fas fa-address-card"></i> Contact Information</h2>
                    <div class="contact-methods">
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Email</h4>
                                <p>{{ user.email }}</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Phone</h4>
                                <p>{{ user.profile.landline_code }} {{ user.profile.landline }}</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-map-marked-alt"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Address</h4>
                                <p>{{ user.profile.address }}, {{ user.profile.city }}, {{ user.profile.state }}, {{ user.profile.country }}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Links -->
                <div class="social-links">
                    <h2 class="section-title">
                        <i class="fas fa-share-alt"></i> Social Connections
                        <i class="fas fa-edit edit-icon" id="edit-social-btn"></i>
                    </h2>
                    
                    <!-- Social Links Display -->
                    <div class="social-grid" id="social-links-display">
                        <a href="{% if user.profile.linkedin %}{% if 'http' in user.profile.linkedin %}{{ user.profile.linkedin }}{% else %}https://www.linkedin.com/in/{{ user.profile.linkedin }}{% endif %}{% else %}#{% endif %}" class="social-link" target="_blank">
                            <div class="social-icon">
                                <i class="fab fa-linkedin-in"></i>
                            </div>
                            <span class="social-name">LinkedIn</span>
                        </a>
                        <a href="{% if user.profile.twitter %}{% if 'http' in user.profile.twitter %}{{ user.profile.twitter }}{% else %}https://twitter.com/{{ user.profile.twitter }}{% endif %}{% else %}#{% endif %}" class="social-link" target="_blank">
                            <div class="social-icon">
                                <i class="fab fa-twitter"></i>
                            </div>
                            <span class="social-name">Twitter</span>
                        </a>
                        <a href="{% if user.profile.facebook %}{% if 'http' in user.profile.facebook %}{{ user.profile.facebook }}{% else %}https://facebook.com/{{ user.profile.facebook }}{% endif %}{% else %}#{% endif %}" class="social-link" target="_blank">
                            <div class="social-icon">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <span class="social-name">Facebook</span>
                        </a>
                        <a href="{% if user.profile.instagram %}{% if 'http' in user.profile.instagram %}{{ user.profile.instagram }}{% else %}https://instagram.com/{{ user.profile.instagram }}{% endif %}{% else %}#{% endif %}" class="social-link" target="_blank">
                            <div class="social-icon">
                                <i class="fab fa-instagram"></i>
                            </div>
                            <span class="social-name">Instagram</span>
                        </a>
                    </div>
                    
                    <!-- Social Links Edit Form -->
                    <div class="edit-form" id="social-links-form">
                        <form action="/update-profile" method="post">
                            <input type="hidden" name="email" value="{{ user.email }}">
                            
                            <div class="form-group">
                                <label>LinkedIn:</label>
                                <input type="text" class="edit-input" name="linkedin" value="{{ user.profile.linkedin }}" placeholder="atif-salam or full URL">
                                <small class="form-text text-muted">Enter your profile name or full URL (https://www.linkedin.com/in/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label>Twitter:</label>
                                <input type="text" class="edit-input" name="twitter" value="{{ user.profile.twitter }}" placeholder="username or full URL">
                                <small class="form-text text-muted">Enter your username or full URL (https://twitter.com/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label>Facebook:</label>
                                <input type="text" class="edit-input" name="facebook" value="{{ user.profile.facebook }}" placeholder="username or full URL">
                                <small class="form-text text-muted">Enter your username or full URL (https://facebook.com/...)</small>
                            </div>
                            
                            <div class="form-group">
                                <label>Instagram:</label>
                                <input type="text" class="edit-input" name="instagram" value="{{ user.profile.instagram }}" placeholder="username or full URL">
                                <small class="form-text text-muted">Enter your username or full URL (https://instagram.com/...)</small>
                            </div>
                            
                            <div class="edit-buttons">
                                <button type="submit" class="btn-save">Save</button>
                                <button type="button" class="btn-cancel" id="cancel-social-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Debug Info -->
                    <div style="margin-top: 20px; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
                        <h4>Current Social Links:</h4>
                        <p>LinkedIn: {{ user.profile.linkedin }}</p>
                        <p>Twitter: {{ user.profile.twitter }}</p>
                        <p>Facebook: {{ user.profile.facebook }}</p>
                        <p>Instagram: {{ user.profile.instagram }}</p>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <script>
        // Simple interactivity for buttons
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('.btn');
            
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    if (this.classList.contains('btn-primary')) {
                        this.innerHTML = '<i class="fas fa-check"></i> Pending';
                        this.style.background = '#6C757D';
                    } else if (this.classList.contains('btn-outline')) {
                        if (this.innerHTML.includes('Message')) {
                            alert('Message dialog would open here');
                        } else if (this.innerHTML.includes('Follow')) {
                            this.innerHTML = '<i class="fas fa-check"></i> Following';
                            this.classList.remove('btn-outline');
                            this.classList.add('btn-primary');
                        }
                    }
                });
            });
            
            // Like functionality for posts
            const likeButtons = document.querySelectorAll('.post-action:first-child');
            likeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const icon = this.querySelector('i');
                    const count = this.querySelector('span');
                    
                    if (icon.classList.contains('far')) {
                        icon.classList.remove('far');
                        icon.classList.add('fas');
                        count.textContent = parseInt(count.textContent) + 1;
                        this.style.color = '#4A6CF7';
                    } else {
                        icon.classList.remove('fas');
                        icon.classList.add('far');
                        count.textContent = parseInt(count.textContent) - 1;
                        this.style.color = '';
                    }
                });
            });
            
            // Tagline edit functionality
            const editTaglineBtn = document.getElementById('edit-tagline-btn');
            const taglineForm = document.getElementById('tagline-form');
            const cancelTaglineBtn = document.getElementById('cancel-tagline-btn');
            const taglineText = document.getElementById('tagline-text');
            
            if (editTaglineBtn && taglineForm && cancelTaglineBtn) {
                editTaglineBtn.addEventListener('click', function() {
                    taglineForm.style.display = 'block';
                    taglineText.style.display = 'none';
                    editTaglineBtn.style.display = 'none';
                });
                
                cancelTaglineBtn.addEventListener('click', function() {
                    taglineForm.style.display = 'none';
                    taglineText.style.display = 'inline';
                    editTaglineBtn.style.display = 'inline';
                });
            }
            
            // Social links edit functionality
            const editSocialBtn = document.getElementById('edit-social-btn');
            const socialLinksForm = document.getElementById('social-links-form');
            const cancelSocialBtn = document.getElementById('cancel-social-btn');
            const socialLinksDisplay = document.getElementById('social-links-display');
            
            if (editSocialBtn && socialLinksForm && cancelSocialBtn && socialLinksDisplay) {
                editSocialBtn.addEventListener('click', function() {
                    socialLinksForm.style.display = 'block';
                    socialLinksDisplay.style.display = 'none';
                });
                
                cancelSocialBtn.addEventListener('click', function() {
                    socialLinksForm.style.display = 'none';
                    socialLinksDisplay.style.display = 'grid';
                });
            }
            
            // Initialize the create post modal functionality
            const createPostBtn = document.querySelector('.create-post-btn');
            const createPostForm = document.getElementById('create-post-form');
            
            if (createPostForm) {
                createPostForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Here you would handle the post submission
                    // For now, we'll just close the modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('createPostModal'));
                    modal.hide();
                    
                    // You could show a success message
                    alert('Post created successfully!');
                });
            }
        });
    </script>
    
    <!-- Create Post Modal -->
    <div class="modal fade" id="createPostModal" tabindex="-1" aria-labelledby="createPostModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createPostModalLabel">Create New Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="create-post-form">
                        <div class="mb-3">
                            <label for="post-content" class="form-label">What would you like to share?</label>
                            <textarea class="form-control" id="post-content" rows="5" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="post-image" class="form-label">Add an image (optional)</label>
                            <input type="file" class="form-control" id="post-image">
                        </div>
                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Post</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}